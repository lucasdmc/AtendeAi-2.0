# =============================================================================
# üîê ATENDEAI 2.0 - WHATSAPP SERVICE - CONFIGURA√á√ïES COMPLETAS
# =============================================================================
# 
# ‚ö†Ô∏è  IMPORTANTE: Renomeie este arquivo para .env e configure suas chaves
# üìö Documenta√ß√£o: docs/WHATSAPP_INTEGRATION.md
# üîó Meta Developer Console: https://developers.facebook.com/
#
# =============================================================================

# =============================================================================
# üì± META WHATSAPP BUSINESS API (OBRIGAT√ìRIO)
# =============================================================================
# üîó Obtenha em: https://developers.facebook.com/apps/
# üìñ Tutorial: https://developers.facebook.com/docs/whatsapp/getting-started

# Token de acesso permanente da Meta (OBRIGAT√ìRIO)
WHATSAPP_ACCESS_TOKEN=your_access_token_here

# ID do n√∫mero de telefone do WhatsApp Business (OBRIGAT√ìRIO)
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id

# ID da conta comercial do WhatsApp (OBRIGAT√ìRIO)
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id

# Token para verifica√ß√£o inicial do webhook (OBRIGAT√ìRIO)
WHATSAPP_VERIFY_TOKEN=atendeai_webhook_verify_2024

# Chave secreta da aplica√ß√£o Meta para valida√ß√£o de assinatura (OBRIGAT√ìRIO)
WHATSAPP_APP_SECRET=your_app_secret_here

# =============================================================================
# üè• SERVI√áOS INTERNOS ATENDEAI (CONFIGURAR CONFORME SEU AMBIENTE)
# =============================================================================

# URL do Conversation Service (Servi√ßo de IA/Chatbot)
CONVERSATION_SERVICE_URL=http://localhost:3005

# Token de autentica√ß√£o para Conversation Service
# Se n√£o implementado ainda, use: "test_token" ou deixe vazio
CONVERSATION_SERVICE_TOKEN=your_conversation_service_token

# URL do Clinic Service (Configura√ß√µes das cl√≠nicas)
CLINIC_SERVICE_URL=http://localhost:3003

# Token de autentica√ß√£o para Clinic Service  
# Se n√£o implementado ainda, use: "test_token" ou deixe vazio
CLINIC_SERVICE_TOKEN=your_clinic_service_token

# =============================================================================
# üóÑÔ∏è BANCO DE DADOS (OBRIGAT√ìRIO)
# =============================================================================

# URL de conex√£o PostgreSQL com o banco AtendeAI
# Formato: postgresql://usuario:senha@host:porta/database
DATABASE_URL=postgresql://username:password@localhost:5432/atendeai

# URL de conex√£o Redis para cache (OPCIONAL - pode deixar vazio se n√£o tiver)
REDIS_URL=redis://localhost:6379

# =============================================================================
# üõ°Ô∏è CONFIGURA√á√ïES DE RESILI√äNCIA (OPCIONAL - USA PADR√ïES SE N√ÉO CONFIGURAR)
# =============================================================================

# Circuit Breaker - N√∫mero de falhas antes de abrir o circuit
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5

# Circuit Breaker - Tempo em ms para tentar reconectar
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60000

# Retry Strategy - N√∫mero m√°ximo de tentativas
MAX_RETRY_ATTEMPTS=3

# Retry Strategy - Delay inicial em ms
BASE_RETRY_DELAY=1000

# Retry Strategy - Delay m√°ximo em ms
MAX_RETRY_DELAY=30000

# =============================================================================
# üìä MONITORAMENTO E LOGS (OPCIONAL)
# =============================================================================

# Habilitar m√©tricas Prometheus
PROMETHEUS_ENABLED=true

# Porta para m√©tricas Prometheus
PROMETHEUS_PORT=9090

# N√≠vel de log (error, warn, info, debug)
LOG_LEVEL=info

# =============================================================================
# üöÄ CONFIGURA√á√ïES DO SERVIDOR (OPCIONAL)
# =============================================================================

# Porta do WhatsApp Service
PORT=3007

# Ambiente de execu√ß√£o
NODE_ENV=development

# =============================================================================
# üîë GUIA R√ÅPIDO DE CONFIGURA√á√ÉO
# =============================================================================
#
# 1. OBRIGAT√ìRIAS PARA FUNCIONAMENTO B√ÅSICO:
#    - WHATSAPP_ACCESS_TOKEN
#    - WHATSAPP_PHONE_NUMBER_ID  
#    - WHATSAPP_BUSINESS_ACCOUNT_ID
#    - WHATSAPP_VERIFY_TOKEN
#    - WHATSAPP_APP_SECRET
#    - DATABASE_URL
#
# 2. OPCIONAIS (SISTEMA USA FALLBACKS):
#    - CONVERSATION_SERVICE_TOKEN (usa fallback se falhar)
#    - CLINIC_SERVICE_TOKEN (usa configura√ß√µes padr√£o se falhar)
#    - REDIS_URL (funciona sem cache se n√£o configurar)
#
# 3. PARA TESTAR SEM OUTROS SERVI√áOS:
#    CONVERSATION_SERVICE_TOKEN=test_token
#    CLINIC_SERVICE_TOKEN=test_token
#
# =============================================================================
# üìû CONFIGURA√á√ÉO WEBHOOK NO META DEVELOPER CONSOLE
# =============================================================================
#
# URL do Webhook: https://seu-dominio.com/webhook/whatsapp
# Verify Token: atendeai_webhook_verify_2024
# Campos de Webhook: messages, message_deliveries, message_reads
#
# =============================================================================
